
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Think Expedite | Full stack software development">
    <meta name="author" content="Jon Reynolds, Expedite Ltd">

    <title>Think Expedite</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="resources/css/bootstrap.min.css" type="text/css">
    <script src="resources/js/jquery.js"></script>

</head>
<body id="page-top">


        <div class="container-fluid">
            <form id="contact-form">
                <div class="row-fluid">
                    <label for="name-input">Name:</label>
                    <input type="text" id="name-input" placeholder="name here..." />
                </div>
                <div class="row-fluid">
                    <label for="email-input">Email:</label>
                    <input type="email" id="email-input" placeholder="email here..."/>
                </div>
                <div class="row-fluid">
                    <label for="description-input">How can we help you?</label>
                </div>
                <div class="row-fluid">
                    <textarea id="description-input" rows="3" placeholder="tell us..."></textarea>
                </div>
                <div class="row-fluid">
                        <button type="submit">Submit</button>
                </div>
                <div class="row-fluid">
                    <div id="message" style="display: none;">Form submmitted</div>
                    <div id="errormessage" style="display: none;">Error with form submission</div>
                </div>
            </form>
        </div>
</body>
</html>

<script type="text/javascript" charset="utf-8">
    var URL = 'https://*********.execute-api.eu-west-1.amazonaws.com/********/contact'
    
    $('#contact-form').submit(function (event) {
    event.preventDefault()
    
    var data = {
        name: $('#name-input').val(),
        email: $('#email-input').val(),
        description: $('#description-input').val()
    }
    
    $.ajax({
        type: 'POST',
        url: URL,
        headers: { 'x-api-key': '*****************************' },
        dataType: 'json',
        contentType: 'application/json',
        data: JSON.stringify(data),
        success: function () {
            $("#message").show();
            $('#contact-form').trigger("reset");
        },
        error: function () {
            $("#errormessage").show();
            $('#contact-form').trigger("reset");
        }
    })
    })
</script>
